<!DOCTYPE html>
<html lang="en">
<head>
    <title>Ajax Example</title>
</head>
<body>

<button id="refresh-button">Click me</button>
<div id="result">Hello</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
    $(document).ready(function () {
        let domain = 'http://localhost:8000';
        let get_rates_path = '/api/v1/rates/';

        $("#refresh-button").on("click", function () {
            $.get(domain + get_rates_path, {}, function (data) {

                let result_html = '';

                for (let i = 0; i < data.results.length; i++) {
                    let item = data.results[i];
                    result_html += `<div>ID: ${item.id} SALE: ${item.sale} BUY: ${item.buy}</div>`;
                }

                console.log(result_html);
                $('#result').html(result_html);
                //console.log(data.count);
                //console.log(data.results);
            });
        });

    })
</script>

<div id="r">After Script</div>

</body>
</html>
